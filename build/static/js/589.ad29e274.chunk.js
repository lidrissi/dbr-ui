"use strict";(self.webpackChunkdbr_ui=self.webpackChunkdbr_ui||[]).push([[589,884],{26884:function(a,e,n){n.r(e);var r=n(1413),t=n(70885),i=n(72791),o=n(89078),d=n(89688),p=n(1795),u=n(72525),s=n(80184),l=(0,i.memo)((function(a){var e,n=a.widget,l=a.onReceiveNotification,f=(0,i.useState)(""),c=(0,t.Z)(f,2),m=c[0],v=(c[1],(0,i.useState)("")),g=(0,t.Z)(v,2),P=g[0],b=(g[1],(0,i.useState)([])),x=(0,t.Z)(b,2),h=x[0],w=x[1],k=(0,i.useState)(-1),C=(0,t.Z)(k,2),y=C[0],I=C[1],Z=(n.mappingResponseParams||[]).map((function(a,e){var r,t=a.responseParam,i=a.widgetParam;return{colIndex:e,name:t,appParam:null===(r=n.mappingParams.find((function(a){return i==a.widgetParam})))||void 0===r?void 0:r.appParam}}));(0,i.useEffect)((function(){var a=n.data||[];return w(a),e=u.O.getNotification().subscribe((function(a){j(a)})),function(){e&&e.unsubscribe()}}),[n.data]);var j=function(a){if(l(a.appParamsValue||{}),a&&0!=n.mappingParams.length){var e=n.mappingParams.filter((function(e){var n=e.appParam;return Object.keys(a.appParamsValue).indexOf(n)>-1})),r=-1;(null===e||void 0===e?void 0:e.length)>0&&(r=n.data.findIndex((function(n){return e.every((function(e){var r=e.appParam,t=e.responseParam;return a.appParamsValue[r]==n[t]}))}))),I(r)}},S={filter:!0,filterType:"dropdown",responsive:"vertical",tableBodyMaxHeight:m,fixedHeader:!0,selectableRowsHideCheckboxes:!0,onRowClick:function(a,e){var r=e.rowIndex;if(0!=n.mappingParams.length){var t,i=h[r],o={};n.mappingParams.forEach((function(a){var e=a.appParam,n=a.responseParam;o[e]=i[n]})),Object.keys(o).length>0&&(I(r),t={fromWidgetKey:n._id,appParamsValue:o},u.O.sendNotification(t))}}},H={ExpandButton:function(a){return a.dataIndex===y&&P?(0,s.jsx)(o.Vh,(0,r.Z)({},a)):(0,s.jsx)("div",{style:{width:"24px"}})}};return n.data&&0!=n.data.length?(0,s.jsx)(p.Z,{theme:(0,d.Z)({overrides:{MUIDataTable:{paper:{boxShadow:"none"}},MUIDataTableHeadCell:{fixedHeader:{backgroundColor:"#f1f2f4",padding:"10px"}},MUIDataTableSelectCell:{headerCell:{backgroundColor:"#f1f2f4"}},MUIDataTableBodyCell:{root:{padding:"6px",cursor:"pointer"}}}}),children:(0,s.jsx)(o.ZP,{data:h,columns:Z,options:S,components:H})}):null}));e.default=l},43589:function(a,e,n){n.r(e);var r=n(26884);e.default=r.default}}]);
//# sourceMappingURL=589.ad29e274.chunk.js.map